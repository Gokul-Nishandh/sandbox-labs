nc -vz 192.168.207.6 5901
â†’ Connection succeeded!


docker exec -it guacd sh
/ $ nc -vz localhost 5901
Connection to localhost (127.0.0.1) 5901 port [tcp/*] succeeded!
/ $ 


docker logs guacd



ps aux | grep qemu

sudo kill -9 <pid>

docker exec -it guac-db mysql -u guacamole_user -p

Docker commands to check the connections
docker exec -it guac-db mysql -uguacamole_user -pguacamole guacamole_db -e "
SELECT c.connection_id, c.connection_name, c.protocol, p.parameter_name, p.parameter_value
FROM guacamole_connection c
JOIN guacamole_connection_parameter p
ON c.connection_id = p.connection_id
ORDER BY c.connection_id;
"
Code to create connection 

# 1. Inside guacd
docker exec -it guacd sh
nc -vz host.docker.internal 5901
nc -vz host.docker.internal 5902
nc -vz host.docker.internal 5903
exit

# 2. From host
nc -vz 172.17.0.1 5902

# 3. Temporarily fix Docker NAT/firewall
sudo iptables -I DOCKER-USER -p tcp --dport 5902 -j ACCEPT
sudo iptables -I INPUT -p tcp --dport 5902 -j ACCEPT

# 4. Re-test inside container
docker exec -it guacd sh
nc -vz host.docker.internal 5902
exit

# 5. Watch guacd logs
docker logs -f guacd


docker exec -it guac-db mysql -u root -p

USE guacamole_db;

SELECT c.connection_id, c.connection_name, c.protocol, p.parameter_name, p.parameter_value
FROM guacamole_connection AS c
LEFT JOIN guacamole_connection_parameter AS p
ON c.connection_id = p.connection_id
WHERE c.connection_name = 'router_1';


ROuter styarting command :
qemu-system-x86_64 \
  -hda /home/gokul/sandbox-labs/backend/overlays/router_1.qcow2 \
  -m 1024 -enable-kvm \
  -device e1000,netdev=net0 \
  -netdev tap,id=net0,ifname=tap-r1g0,script=no,downscript=no \
  -device e1000,netdev=net1 \
  -netdev tap,id=net1,ifname=tap-r1g1,script=no,downscript=no \
  -serial telnet:0.0.0.0:5950,server,nowait \
  -vnc :1 -daemonize